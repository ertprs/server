'use strict';

module.exports = Franz => {
	const getMessages = function getMessages() {
		let indirectElements = document.querySelectorAll('.badge:not(.highlight)');
		let direct = document.querySelectorAll('.badge.highlight').length;
		let indirect = 0;
		for (let i = 0; i < indirectElements.length; i += 1) {
			if (indirectElements[i].innerHTML.length > 0) indirect++;
		}
		console.log(direct, indirect);
		Franz.setBadge(direct, indirect);
	};
	Franz.loop(getMessages);
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZWxvdW5nZS93ZWJ2aWV3LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJGcmFueiIsImdldE1lc3NhZ2VzIiwiaW5kaXJlY3RFbGVtZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImRpcmVjdCIsImxlbmd0aCIsImluZGlyZWN0IiwiaSIsImlubmVySFRNTCIsImNvbnNvbGUiLCJsb2ciLCJzZXRCYWRnZSIsImxvb3AiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUJDLFNBQVM7QUFDekIsT0FBTUMsY0FBYyxTQUFTQSxXQUFULEdBQXVCO0FBQzFDLE1BQUlDLG1CQUFtQkMsU0FBU0MsZ0JBQVQsQ0FBMEIsd0JBQTFCLENBQXZCO0FBQ0EsTUFBSUMsU0FBU0YsU0FBU0MsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDRSxNQUEzRDtBQUNBLE1BQUlDLFdBQVcsQ0FBZjtBQUNBLE9BQUssSUFBSUMsSUFBSSxDQUFiLEVBQWdCQSxJQUFJTixpQkFBaUJJLE1BQXJDLEVBQTZDRSxLQUFLLENBQWxELEVBQXFEO0FBQ3BELE9BQUlOLGlCQUFpQk0sQ0FBakIsRUFBb0JDLFNBQXBCLENBQThCSCxNQUE5QixHQUF1QyxDQUEzQyxFQUE4Q0M7QUFDOUM7QUFDREcsVUFBUUMsR0FBUixDQUFZTixNQUFaLEVBQW9CRSxRQUFwQjtBQUNBUCxRQUFNWSxRQUFOLENBQWVQLE1BQWYsRUFBdUJFLFFBQXZCO0FBQ0EsRUFURDtBQVVBUCxPQUFNYSxJQUFOLENBQVdaLFdBQVg7QUFDQSxDQVpEIiwiZmlsZSI6InRoZWxvdW5nZS93ZWJ2aWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBGcmFueiA9PiB7XG5cdGNvbnN0IGdldE1lc3NhZ2VzID0gZnVuY3Rpb24gZ2V0TWVzc2FnZXMoKSB7XG5cdFx0bGV0IGluZGlyZWN0RWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYmFkZ2U6bm90KC5oaWdobGlnaHQpJyk7XG5cdFx0bGV0IGRpcmVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5iYWRnZS5oaWdobGlnaHQnKS5sZW5ndGg7XG5cdFx0bGV0IGluZGlyZWN0ID0gMDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluZGlyZWN0RWxlbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGlmIChpbmRpcmVjdEVsZW1lbnRzW2ldLmlubmVySFRNTC5sZW5ndGggPiAwKSBpbmRpcmVjdCsrO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhkaXJlY3QsIGluZGlyZWN0KTtcblx0XHRGcmFuei5zZXRCYWRnZShkaXJlY3QsIGluZGlyZWN0KTtcblx0fTtcblx0RnJhbnoubG9vcChnZXRNZXNzYWdlcyk7XG59O1xuIl19